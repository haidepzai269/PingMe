<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trang ch·ªß</title>
  <link rel="stylesheet" href="home.css" />
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
  <!-- Hi·ªáu ·ª©ng ch·ªØ khi v·ª´a ƒëƒÉng nh·∫≠p -->
  <div id="login-effect-overlay" class="login-effect hidden">
    <svg viewBox="0 0 600 100" class="draw-text">
      <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">ChatWeb</text>
    </svg>
  </div>
  

  <div class="wrapper">
    <!-- Sidebar -->
    <aside class="sidebar">
      <button onclick="location.href='home.html'">Home</button>
      <button onclick="location.href='chat.html'">Chat</button>
    </aside>

    <!-- Danh s√°ch ng∆∞·ªùi d√πng -->
    <main class="main-section">
      <input type="text" id="search" placeholder="T√¨m ki·∫øm b·∫°n b√® ..." />
      <h3 class="friend-suggestion-title">G·ª£i √Ω b·∫°n b√®</h3>
      <div id="user-list"></div>
    </main>

    <!-- H·ªì s∆° c√° nh√¢n -->
    <aside class="profile-section">
      <div id="profile-avatar"></div>
      <h2 id="profile-username">...</h2>
      <p id="profile-bio">...</p>
      <p id="profile-friends-count" class="friends-count">B·∫°n b√®: 0</p>
      <button id="edit-profile">Ch·ªânh s·ª≠a th√¥ng tin</button>
    </aside>
  </div>
<!-- Modal ch·ªânh s·ª≠a -->
<div id="edit-modal" class="modal hidden">
    <div class="modal-content">
      <h2>Ch·ªânh s·ª≠a h·ªì s∆°</h2>
      <input type="text" id="edit-username" placeholder="T√™n t√†i kho·∫£n m·ªõi" />
      <textarea id="edit-bio" placeholder="Gi·ªõi thi·ªáu b·∫£n th√¢n..."></textarea>
      <input   type="file" id="edit-avatar" accept="image/*" />
      <button onclick="submitEdit()">L∆∞u thay ƒë·ªïi</button>
      <button onclick="closeModal()">H·ªßy</button>
    </div>
  </div>
  <!-- Avatar Modal -->
  <div id="avatar-modal" class="modal hidden">
    <div class="avatar-modal-content">
      <span id="close-avatar-modal" class="close">&times;</span>
      <img id="modal-avatar-img" src="" alt="avatar full" />
    </div>
  </div>

  <!-- Mobile Navigation -->
  <div class="mobile-nav">
  <button onclick="location.href='home.html'">üè†</button>
  <button onclick="location.href='chat.html'">üí¨</button>
  <button onclick="document.getElementById('edit-modal').classList.remove('hidden')">üë§</button>
  </div>
  <div id="unsupported-message" class="hidden">
    <h2>Xin l·ªói , trang kh√¥ng ho·∫°t ƒë·ªông</h2>
    <p>Thi·∫øt b·ªã c·ªßa b·∫°n c√≥ m√†n h√¨nh qu√° nh·ªè ƒë·ªÉ s·ª≠ d·ª•ng trang web n√†y.</p>
  </div>

  <script type="module" src="authFetch.js"></script>
  <script type="module" src="home.js"></script>
  <script>
    function checkScreenSize() {
      const warning = document.getElementById("unsupported-message");
      if (window.innerWidth < 400) {
        warning.classList.remove("hidden");
        document.body.style.overflow = "hidden";
      } else {
        warning.classList.add("hidden");
        document.body.style.overflow = "";
      }
    }
  
    window.addEventListener("resize", checkScreenSize);
    window.addEventListener("DOMContentLoaded", checkScreenSize);
  </script>
  
</body>
</html>
